{% extends 'base.html' %}
{% block content %}

<h2>üèÜ Torneos registrados</h2>
<p>Cada torneo es una historia en juego. Dise√±a el desaf√≠o.</p>

<!-- üîç Filtros por tipo y estado -->
<form method="get" class="filtros" style="margin-bottom: 20px;">
  <label for="tipo">Tipo:</label>
  <select name="tipo" id="tipo">
    <option value="">Todos</option>
    <option value="individual" {% if tipo_seleccionado == "individual" %}selected{% endif %}>Individual</option>
    <option value="dobles" {% if tipo_seleccionado == "dobles" %}selected{% endif %}>Dobles</option>
    <option value="mixto" {% if tipo_seleccionado == "mixto" %}selected{% endif %}>Mixto</option>
  </select>

  <label for="activo">Estado:</label>
  <select name="activo" id="activo">
    <option value="">Todos</option>
    <option value="1" {% if estado_seleccionado == "1" %}selected{% endif %}>Activos</option>
    <option value="0" {% if estado_seleccionado == "0" %}selected{% endif %}>Inactivos</option>
  </select>

  <button type="submit">Filtrar</button>
</form>

<!-- ‚ûï Bot√≥n para crear torneo -->
<a href="{% url 'core:admin_create_tournament' %}" class="btn">‚ûï Crear nuevo torneo</a>

<!-- üìä Tabla de torneos -->
<table class="tabla-torneos" style="width: 100%; margin-top: 20px; border-collapse: collapse;">
  <thead>
    <tr style="background-color: #5e2ca5; color: white;">
      <th>Nombre</th>
      <th>Tipo</th>
      <th>Inicio</th>
      <th>Fin</th>
      <th>Estado</th>
    </tr>
  </thead>
  <tbody>
    {% for torneo in torneos %}
    <tr style="border-bottom: 1px solid #ccc;">
      <td>{{ torneo.nombre }}</td>
      <td>{{ torneo.tipo|title }}</td>
      <td>{{ torneo.fecha_inicio }}</td>
      <td>{{ torneo.fecha_fin }}</td>
      <td>{% if torneo.activo %}üü¢ Activo{% else %}üî¥ Inactivo{% endif %}</td>
    </tr>
    {% empty %}
    <tr>
      <td colspan="5">No hay torneos registrados a√∫n.</td>
    </tr>
    {% endfor %}
  </tbody>
</table>

{% endblock %}